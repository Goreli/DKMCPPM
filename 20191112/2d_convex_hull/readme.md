# 2D Convex Hull
<p align="center">Around the World in 80 Milliseconds</p>

___

## Table of Contents
1. [Introduction](#introduction)
2. [Content Overview](#content-overview)
3. [Command Line Interface](#command-line-interface)
4. [Build Notes](#build-notes)
5. [Links](#links)

## Introduction

This directory contains source code written to address the 2D Convex Hull challenge published on the Wiki page of the Melbourne C++ Meetup Olympiad repo: https://github.com/melbourne-cpp/olympiad/wiki. A program has been written in C++ that solves the challenge. Also, a chart has been created using the output of the program that demonstrates a geometric relationship between the input and output datasets. The image below shows how the output of the program forms a 2D convex hull that encompasses the input dataset.

![alt text](https://media.githubusercontent.com/media/Goreli/DKMCPPM/master/20191112/2d_convex_hull/data/100_points.jpg "Input and output datasets combined")


## Content Overview

The project source code consists of the following components located in the [2d_convex_hull](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull) directory:

* [ch2d_main.cpp](https://github.com/Goreli/DKMCPPM/blob/master/20191112/2d_convex_hull/ch2d_main.cpp) - the entry module of the C++ program. The program parses the command line and expects an input file path to be specified as the first command line parameter. Example input files can be found in the [data](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull/data) subdirectory. Also, additional input files can be created as described below;
* [ch_alg2d.hpp](https://github.com/Goreli/DKMCPPM/blob/master/20191112/2d_convex_hull/ch_alg2d.hpp) and [ch_alg2d.cpp](https://github.com/Goreli/DKMCPPM/blob/master/20191112/2d_convex_hull/ch_alg2d.cpp) - these modules define the logic of the solution at a high level;
* [ch_data_point2d.hpp](https://github.com/Goreli/DKMCPPM/blob/master/20191112/2d_convex_hull/ch_data_point2d.hpp) and [ch_data_point2d.cpp](https://github.com/Goreli/DKMCPPM/blob/master/20191112/2d_convex_hull/ch_data_point2d.cpp) - an implementation of a 2D geometric point class that provides certain useful functionality utilised in the solution logic module.


The [2d_convex_hull](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull) directory also contains a Linux shell script called gen-inp-file2d.sh that generates input files containing random data. The x and y values generated by the script vary in the [-1.0, +1.0] range. The script requires availability of the awk tool. Refer content of the CMakeLists.txt file to see an example of the command line syntax. Be aware that the script uses a random number generator that creates a different data file every time it runs. Should there be a need to preserve an older data file it should be backed up to preclude the destruction of the dataset.

## Command Line Interface
ch2d [input file path]

The input file path parameter specifies a csv file containing comma separated x coordinate and y coordinate values of the input points. The result of the calculation is printed through the standard output stream.

## Build Notes

The project provides build system artefacts for two platforms. There is a CMakeLists.txt file in the [2d_convex_hull](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull) directory that can be processed with CMake to create build system artefacts on the Linux platform. There are also Visual Studio 2019 project files in the [vs_projects](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull/vs_projects) subdirectory that build Windows executables.

There is a bash script called cmake-build.sh in the util subdirectory located under the root directory of the repository. This script automates the processing of the CMakeLists.txt file. Particularly, it accepts the toolchain name and target build type as command line arguments and creates respective subdirectories populated with build system artefacts. The Gnu and Clang toolchains are supported combined with the following build types: Release, Debug, RelWithDebInfo and MinSizeRel. Navigate to the [2d_convex_hull](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull) source directory and execute cmake-build.sh with proper command line arguments to create the required build system artefacts. Examples follow.


1. Clang, Release

Navigate to the source directory and create build system artefacts that will use the Clang compiler to create Release type binaries, then build the binaries.
```
/..../dkmcppm/20191112/2d_convex_hull$ ../../util/cmake-build.sh Clang Release
/..../dkmcppm/20191112/2d_convex_hull$ cd ClangRelease
/..../dkmcppm/20191112/2d_convex_hull/ClangRelease$ make
```

2. Gnu, Debug

Navigate to the source directory and create build system artefacts that will use the Gnu compiler to create Debug type binaries, then build the binaries.
```
/..../dkmcppm/20191112/2d_convex_hull$ ../../util/cmake-build.sh Gnu Debug
/..../dkmcppm/20191112/2d_convex_hull$ cd GnuDebug
/..../dkmcppm/20191112/2d_convex_hull/GnuDebug$ make
```

Here is a summary of the Linux Makefile targets supported:

* make all [Enter] - Same as just "make [Enter]" - builds the binary executable;
* make test_run [Enter] - creates an input CSV data file containing 100 data points and test-runs the application. Does not change the file if it's already there;
* make clean [Enter] - Deletes the binary executable and input CSV data file;
* make data100 [Enter] -  creates an input CSV data file containing 100 data points;
* make data1K [Enter] -   creates an input CSV data file containing 1,000 data points;
* make data10K [Enter] -  ... 10,000 data points;
* make data100K [Enter] - ... 100,000 data points;
* make data1M [Enter] -   ... 1,000,000 data points;
* make data10M [Enter] -  ... 10,000,000 data points.

To build Windows executables open the dkmccpm.sln solution file located in the root directory of the original repository and navigate to this project in the VS 2019 Solution Explorer panel. The actual binaries are created in ../../x64.

Alternatively, add the project file(s) located in the [vs_projects](https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull/vs_projects) subdirectory to your existing VS 2019 solution.

Alternatively, use the CMakeLists.txt file supplied in the project directory to create your own Visual Studio project.

Here is the Visual Studio project configuration log:
1. Set the language standard to c++17;
2. Let the c++ compiler know the locations of include areas: ../..
3. Switch precompiled headers off.

## Links

1. Melbourne C++ Meetup on meetup.com:
	https://www.meetup.com/MelbourneCpp/
2. Melbourne C++ Meetup on GitHub.com:
	https://github.com/melbourne-cpp
3. Melbourne C++ Meetup Olympiad materials on GitHub.com:
	https://github.com/melbourne-cpp/olympiad
4. The Olympiad Wiki page on GitHub.com:
	https://github.com/melbourne-cpp/olympiad/wiki
5. This repository on GitHub.com:
	https://github.com/Goreli/DKMCPPM
6. This solution on GitHub.com:
	https://github.com/Goreli/DKMCPPM/tree/master/20191112/2d_convex_hull
